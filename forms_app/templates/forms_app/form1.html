<!-- forms_app/templates/forms_app/form1.html -->
{% extends "forms_app/base_form.html" %}
{% block title %}–§–æ—Ä–º–∞ 1: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—á—ë—Ç–æ–≤ Wildberries{% endblock %}

{% block content %}
    <h2>üìä –§–æ—Ä–º–∞ 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –û–ë–©–ò–• —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ Wildberries. –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ. –ë–µ–∑ –∞—Ä—Ç–∏–∫—É–ª–æ–≤.</h2>

    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <label>
            <input type="radio" name="mode" value="single" checked> –û–¥–∏–Ω —Ñ–∞–π–ª
        </label>
        <br>
        <label>
            <input type="radio" name="mode" value="multiple"> –¢—Ä–∏ —Ñ–∞–π–ª–∞ (—Ç—Ä–∏ —Ç–æ—á–∫–∏ –ø—Ä–æ–¥–∞–∂)
        </label>
        <br><br>

        <!-- –ü–æ–ª–µ –¥–ª—è –¥–∞—Ç—ã -->
        <label for="start_date">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:</label>
        <input type="date" id="start_date" name="start_date" required>
        <br><br>

        <!-- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ -->
        <div id="fileInputs">
            <label>–§–∞–π–ª:</label><br><br>
            <input type="file" name="file_single" accept=".xlsx,.xls"><br><br>

            <div id="multiFiles" style="display: none;">
                <label>–§–∞–π–ª –¥–ª—è —Ç–æ—á–∫–∏ 1:</label>
                <input type="file" name="file1" accept=".xlsx,.xls"><br>

                <label>–§–∞–π–ª –¥–ª—è —Ç–æ—á–∫–∏ 2:</label>
                <input type="file" name="file2" accept=".xlsx,.xls"><br>

                <label>–§–∞–π–ª –¥–ª—è —Ç–æ—á–∫–∏ 3:</label>
                <input type="file" name="file3" accept=".xlsx,.xls"><br>
            </div>
        </div>

        <button type="submit" class="btn">–û–±—Ä–∞–±–æ—Ç–∞—Ç—å</button>
    </form>

    <script>
        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞
        const modeRadios = document.querySelectorAll('input[name="mode"]');
        const multiFiles = document.getElementById('multiFiles');

        modeRadios.forEach(radio => {
            radio.addEventListener('change', () => {
                if (radio.value === 'multiple') {
                    multiFiles.style.display = 'block';
                } else {
                    multiFiles.style.display = 'none';
                }
            });
        });
    </script>
{% endblock %}